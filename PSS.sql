CREATE DATABASE PSS;
USE PSS;

CREATE TABLE TURNO(
ID_TURNO INT,
NOM_TURNO VARCHAR(100),
CONSTRAINT PK_ITUR PRIMARY KEY(ID_TURNO))
ENGINE INNODB;

INSERT INTO TURNO (ID_TURNO,NOM_TURNO) VALUES (100,'MATUTINO'),(200,'VESPERTINO');



CREATE TABLE usuarios(
id int NOT NULL AUTO_INCREMENT,
Nombre varchar(255),
UserName varchar(255),
Password varchar(255),
CONSTRAINT PK_xdx PRIMARY KEY(id))
ENGINE INNODB;

INSERT INTO usuarios (Nombre,UserName,Password) VALUES ('GRUPO','6IM10','bcc3fc27de600401ba435bc1ee264c5b'),('VIRGINIA','VIRGINIA','06aa71ae9a950db99af77bd75ab47ec7');



CREATE TABLE CARRERA(
ID_CARRERA INT,
NOM_CARRERA VARCHAR(100),
CONSTRAINT PK_ICAR PRIMARY KEY(ID_CARRERA))
ENGINE INNODB;
INSERT INTO CARRERA(ID_CARRERA,NOM_CARRERA) VALUES (1,'CONTABILIDAD'),(2,'INFORMATICA'),(3,'COMERCIO INTERNACIONAL'),(4,'TRONCO COMUN');


CREATE TABLE TELEFONO(
ID_TELEFONO INT,
TIPO_TELEFONO VARCHAR(100),
CONSTRAINT PK_ITEL PRIMARY KEY(ID_TELEFONO))
ENGINE INNODB;
INSERT INTO TELEFONO (ID_TELEFONO,TIPO_TELEFONO) VALUES (1,'CASA'), (2,'CELULAR'),(3,'OFICINA');

CREATE TABLE ACTEXT(
ID_ACTEXT INT,
NOM_ACTEXT VARCHAR(100),
CONSTRAINT PK_IACT PRIMARY KEY(ID_ACTEXT))
ENGINE INNODB;
INSERT INTO ACTEXT (ID_ACTEXT,NOM_ACTEXT) VALUES (10,'SERVICIO SOCIAL'),(20,'DEPORTE'),(30,'ASESORIAS'),(40,'EXAMENES'),(50,'TRAMITE'),(60,'REQUERIDO');



CREATE TABLE ESTATUS(
ID_ESTATUS INT,
NOM_ESTATUS VARCHAR(100),
CONSTRAINT PK_IEST PRIMARY KEY(ID_ESTATUS))
ENGINE INNODB;
INSERT INTO ESTATUS (ID_ESTATUS,NOM_ESTATUS) VALUES (1,'REGULAR'),(2,'IRREGULAR'),(3,'BAJO DICTAMEN'),(4,'BAJA TEMPORAL'),(5,'GRADUADO'),(6,'BAJA PERMANENTE');

CREATE TABLE ENFERMEDAD(
ID_ENF INT,
NOM_ENF VARCHAR(130),
CONSTRAINT PK_IDENF PRIMARY KEY(ID_ENF))
ENGINE INNODB;
INSERT INTO ENFERMEDAD(ID_ENF, NOM_ENF) VALUES(1,'OBESIDAD'),(2,'DIABETES'),(3,'ASMA'),(4,'EPOC'),(5,'PRESION ARTERIAL ALTA'),(6,'PRESION ARTERIAL BAJA');



CREATE TABLE DISCAPACIDAD(
ID_DIS INT,
NOM_DIS VARCHAR(130),
CONSTRAINT PK_IDISCA PRIMARY KEY(ID_DIS))
ENGINE INNODB;
INSERT INTO DISCAPACIDAD(ID_DIS,NOM_DIS) VALUES(1,'SORDERA'),(2,'ALZHEIMER'),(3,'SINDROME DE DOWN'),(4,'AUTISMO'),(5,'PARANOIA'),(6,'ESQUIZOFRENIA'),(7,'DEPRESION BIPOLAR'),(8,'PARKINSON'),(9,'DISTROFIA MUSCULAR'),(10,'GLAUCUMA'),(11,'OBSESIVO COMPULSIVO'),(12,'MIOPIA'),(13,'HIPERMETROPIA');


CREATE TABLE SANGRE(
ID_SAN INT,
TIP_SAN VARCHAR(100),
CONSTRAINT PK_ISANG PRIMARY KEY(ID_SAN))
ENGINE INNODB;

INSERT INTO SANGRE(ID_SAN,TIP_SAN) VALUES	(1,'AB+'),(2,'AB-'),(3,'A+'),(4,'A-'),(
5,'B+'),(6,'B-'),(7,'O+'),(8,'O-');




CREATE TABLE ALUMNO(
MATRICULA INT,
NOMBRE VARCHAR(50),
APE_P VARCHAR(50),
APE_M VARCHAR(50), 
FOTO VARCHAR(100),
GRUPO VARCHAR(50),
GENERO VARCHAR(50),
CURP VARCHAR(50),
CORREO VARCHAR(50),
PESO int,
ALTURA int,
ID_SAN1 INT,
ID_TURNO1 INT,
ID_CARRERA1 INT,
ID_ESTATUS1 INT,
CONSTRAINT PK_MAT PRIMARY KEY(MATRICULA),
CONSTRAINT FK_ISAN1 FOREIGN KEY(ID_SAN1) REFERENCES SANGRE(ID_SAN) ON DELETE SET NULL,
CONSTRAINT FK_ITUR1 FOREIGN KEY(ID_TURNO1) REFERENCES TURNO(ID_TURNO)ON DELETE SET NULL,
CONSTRAINT FK_ICAR1 FOREIGN KEY(ID_CARRERA1) REFERENCES CARRERA(ID_CARRERA)ON DELETE SET NULL,
CONSTRAINT FK_EST1 FOREIGN KEY(ID_ESTATUS1) REFERENCES ESTATUS(ID_ESTATUS)ON DELETE SET NULL)
ENGINE INNODB;
INSERT INTO ALUMNO (MATRICULA, NOMBRE, APE_P,APE_M,FOTO,GRUPO,GENERO,CURP,CORREO,PESO,ALTURA,ID_SAN1,ID_TURNO1,ID_CARRERA1,ID_ESTATUS1) VALUES 
(2018051761,'MIGUEL JOSUE','BAEZA','CASIMIRO','../IMG/ALU/2018051761.jpg','6IM10','PANGENERO','BACM011227HMCZSGA4','mike.barza32@gmail.com',68,180,7,100,2,1),
(2017052121,'CRISTOPHER JESUS','LIMON','CRUZ','../IMG/ALU/2017053131.jpg','6IM10','HOMBRE','LICC000309HDFPRI43','jesus.limon.v5@gmail.com',68,170,7,100,2,1),
(2017051421,'ISAAC','GARCIA','SANCHEZ','../IMG/ALU/2017051421.jpg','6IM10','HOMBRE','GASI010925HMCRNSA0','isaacgarcia@gmail.com',63,168,6,100,2,2),
(3641,'ARTURO', 'ROJAS','CERVANTES','../IMG/ALU/3641.JPG','6IM10','HOMBRE','ROCA010115HMSWAWA2','ARTUROROJASCERV@GMAIL.COM',65,175,1,100,2,1),
(3171,'EZEQUIEL', 'PEREZ', 'CARBAJAL','../IMG/ALU/3171.JPG', '6IM10', 'HOMBRE', 'PECE010329HMDFAEA2','EZEQUIELPC496@GMAIL.COM',60,170,2,100,2,1),
(0778,'CHRISTIAN','RODRIGUEZ','GARCIA','../IMG/ALU/0821.JPEG','6IM10','HOMBRE','ROGC990627HMDFAER5','SCHRISX27DIBUJITOS@GMAIL.COM',60,175,1,100,2,1),
(0070,'VANESSA','BERTHELY','VELA','../IMG/ALU/0070.JPG','6IM10','MUJER','BEVV000430MMJPL3','BERTHELY.VELA3F@HOTMAIL.COM',60,168,1,100,2,1);

/*  DISCAPACIDAD Y ENFERMEDAD  */
CREATE TABLE ALUENF(
MATRICULA3 INT,
ID_ENF1 INT,
CONSTRAINT FK_MAT3 FOREIGN KEY(MATRICULA3) REFERENCES ALUMNO(MATRICULA) ON DELETE SET NULL,
CONSTRAINT FK_IENF1 FOREIGN KEY(ID_ENF1) REFERENCES ENFERMEDAD(ID_ENF) ON DELETE SET NULL)
ENGINE INNODB;
INSERT INTO ALUENF(MATRICULA3,ID_ENF1) VALUES(
2018051761,3),(
2017052121,5),(
2017051421,2);

CREATE TABLE ALUDIS(
MATRICULA4 INT,
ID_DIS1 INT,
CONSTRAINT FK_MAT4 FOREIGN KEY(MATRICULA4) REFERENCES ALUMNO(MATRICULA) ON DELETE SET NULL,
CONSTRAINT FK_IDIS1 FOREIGN KEY(ID_DIS1) REFERENCES DISCAPACIDAD(ID_DIS) ON DELETE SET NULL)
ENGINE INNODB;
INSERT INTO ALUDIS(MATRICULA4,ID_DIS1) VALUES(
2018051761,7),(
2017052121,12),(
2017051421,6);


CREATE TABLE ALUMEXT(
MATRICULA1 INT,
ID_ACTEXT2 INT,
CONSTRAINT FK_MAT1 FOREIGN KEY(MATRICULA1) REFERENCES ALUMNO(MATRICULA)ON DELETE CASCADE,
CONSTRAINT FK_ACT2 FOREIGN KEY(ID_ACTEXT2) REFERENCES ACTEXT(ID_ACTEXT)ON DELETE SET NULL)
ENGINE INNODB;
INSERT INTO ALUMEXT (MATRICULA1,ID_ACTEXT2) VALUES (2018051761,50),(2017052121,10),(2017051421,10);


CREATE TABLE EMPLEADO(
NUM_EMP INT,
NOM_E VARCHAR(50),
APE_PE VARCHAR(50),
APE_ME VARCHAR(50),
RFC VARCHAR(50),
FOTO VARCHAR(100),
PUESTO VARCHAR(50),
CORREO VARCHAR(50),
CONSTRAINT PK_NEMP PRIMARY KEY(NUM_EMP))
ENGINE INNODB;
INSERT INTO EMPLEADO (NUM_EMP,NOM_E,APE_PE,APE_ME,RFC,FOTO,PUESTO,CORREO) VALUES (
25692,'VIRGINIA','GONZALEZ','CASTRO','GCVIR465ASD','../IMG/EMP/25692.jpg','DOCENTE','virginiagc@ipn.mx'),(
25743,'JEROME','ESTRADA','MARTINEZ','EMJD653UTO','../IMG/EMP/25743.jpg','DOCENTE','jeromestrada@ipn.mx'),(
25124,'LUIS','MAYAGOITIA','JUAREZ','MJLJAS9713K','../IMG/EMP/25124.jpg','DIOS','god_lmayagoitia@ipn.mx');


CREATE TABLE EMPTUR(
NUM_EMP1 INT,
ID_TURNO3 INT,
ESTATUS VARCHAR(50),
CONSTRAINT FK_NEMP1 FOREIGN KEY(NUM_EMP1) REFERENCES EMPLEADO(NUM_EMP)ON DELETE SET NULL,
CONSTRAINT FK_ITUR3 FOREIGN KEY(ID_TURNO3) REFERENCES TURNO(ID_TURNO)ON DELETE SET NULL)
ENGINE INNODB;

INSERT INTO EMPTUR (NUM_EMP1,ID_TURNO3,ESTATUS) VALUES (25692,100,'EN SERVICIO'),(25743,200,'EN SABATICO'),(25124,100,'EN SERVICIO');

/*NUEVAS TABLAS xd*/

CREATE TABLE EMPTEL(
ID_TELEFONO1 INT,
NUM_EMP2 INT,
FON VARCHAR(100),
CONSTRAINT FK_ITEL1 FOREIGN KEY(ID_TELEFONO1) REFERENCES TELEFONO(ID_TELEFONO)ON DELETE SET NULL,
CONSTRAINT FK_IEMP2 FOREIGN KEY(NUM_EMP2) REFERENCES EMPLEADO(NUM_EMP) ON DELETE SET NULL)
ENGINE INNODB;

INSERT INTO EMPTEL(ID_TELEFONO1,NUM_EMP2,FON) VALUES(
1,25692,'87676545'),(
3,25692,'77885625'),(
1,25743,'59280571'),(
2,25743,'5501986481'),(
1,25124,'88749185'),(
2,25124,'5592719592'),(
3,25124,'99175928');

CREATE TABLE ALUTEL(
ID_TELEFONO2 INT,
MATRICULA2 INT,
FON VARCHAR(100),
CONSTRAINT FK_ITEL2 FOREIGN KEY(ID_TELEFONO2) REFERENCES TELEFONO(ID_TELEFONO)ON DELETE SET NULL,
CONSTRAINT FK_MATT2 FOREIGN KEY(MATRICULA2) REFERENCES ALUMNO(MATRICULA) ON DELETE SET NULL)
ENGINE INNODB;

INSERT INTO ALUTEL(ID_TELEFONO2,MATRICULA2,FON) VALUES(
1,2018051761,'78291857'),(
2,2018051761,'5585918592'),(
1,2017052121,'94819562'),(
2,2017052121,'5584915821'),(
1,2017051421,'99657280'),(
2,2017051421,'5527768192');



























